<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>barelog: host/include/barelog_host_mem_manager.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">barelog
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('barelog__host__mem__manager_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">barelog_host_mem_manager.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Module defining all functions offered by barelog for the host program.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="barelog__platform_8h_source.html">barelog_platform.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="barelog__buffer_8h_source.html">barelog_buffer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="barelog__policy_8h_source.html">barelog_policy.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for barelog_host_mem_manager.h:</div>
<div class="dyncontent">
<div class="center"><img src="barelog__host__mem__manager_8h__incl.png" border="0" usemap="#host_2include_2barelog__host__mem__manager_8h" alt=""/></div>
<map name="host_2include_2barelog__host__mem__manager_8h" id="host_2include_2barelog__host__mem__manager_8h">
<area shape="rect" id="node4" href="barelog__platform_8h.html" title="Module defining a platform to use barelog against. " alt="" coords="229,95,359,121"/><area shape="rect" id="node9" href="barelog__buffer_8h.html" title="Module defining the different buffers used by barelog&#39;s internals. " alt="" coords="402,95,517,121"/><area shape="rect" id="node12" href="barelog__policy_8h.html" title="Module defining the different policies that can be used when an events buffer is full. " alt="" coords="25,169,141,196"/><area shape="rect" id="node5" href="barelog__mem__space_8h.html" title="Module defining mem_space structure. " alt="" coords="217,169,371,196"/><area shape="rect" id="node6" href="barelog__internal_8h.html" title="Module defining the internal configurations of barelog. " alt="" coords="539,244,663,271"/><area shape="rect" id="node7" href="barelog__config_8h.html" title="Module defining the configurations used by barelog. " alt="" coords="542,319,659,345"/><area shape="rect" id="node8" href="barelog__parallella_8h.html" title="Module defining the configurations used by barelog specifically for the Parallella platform..." alt="" coords="534,393,667,420"/><area shape="rect" id="node10" href="barelog__event_8h.html" title="Module defining the events and their related functions. " alt="" coords="497,169,611,196"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="barelog__host__mem__manager_8h__dep__incl.png" border="0" usemap="#host_2include_2barelog__host__mem__manager_8hdep" alt=""/></div>
<map name="host_2include_2barelog__host__mem__manager_8hdep" id="host_2include_2barelog__host__mem__manager_8hdep">
<area shape="rect" id="node2" href="barelog__host__mem__manager_8c_source.html" title="host/barelog_host_mem\l_manager.c" alt="" coords="5,95,167,136"/><area shape="rect" id="node3" href="barelog__host_8h.html" title="Module providing some nice wrapping for the host_mem_manager. " alt="" coords="191,95,330,136"/><area shape="rect" id="node4" href="barelog__host_8c_source.html" title="host/barelog_host.c" alt="" coords="193,184,329,211"/></map>
</div>
</div>
<p><a href="barelog__host__mem__manager_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbarelog__host__mem__manager__t.html">barelog_host_mem_manager_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3073d2ab80167ff69b27b70f87ef4225"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="barelog__host__mem__manager_8h.html#a3073d2ab80167ff69b27b70f87ef4225">host_mem_manager_init</a> (const <a class="el" href="structbarelog__platform__t.html">barelog_platform_t</a> platform, void *(*init)(void *address, size_t size, void *data), int8_t(*read)(const void *address, size_t size, void *buffer), int8_t(*write)(void *address, size_t size, const void *buffer), int8_t(*finalize)(void *mem_space)) <a class="el" href="barelog__mem__space_8h.html#abc28df08c6256142ba10007f0cf42a13">__attribute__</a>((cold))</td></tr>
<tr class="separator:a3073d2ab80167ff69b27b70f87ef4225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af87f5184889e71d35a18a36852797e7d"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="barelog__host__mem__manager_8h.html#af87f5184889e71d35a18a36852797e7d">host_mem_manager_finalize</a> (void) <a class="el" href="barelog__mem__space_8h.html#abc28df08c6256142ba10007f0cf42a13">__attribute__</a>((cold</td></tr>
<tr class="separator:af87f5184889e71d35a18a36852797e7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25cb114fbd0a3f6c241f1e22402384cd"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="barelog__host__mem__manager_8h.html#a25cb114fbd0a3f6c241f1e22402384cd">host_mem_manager_read_mem_space</a> (uint32_t core, barelog_event_t **events)</td></tr>
<tr class="separator:a25cb114fbd0a3f6c241f1e22402384cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa243a28152c6d86cef92b2fed7be9bb8"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="barelog__host__mem__manager_8h.html#aa243a28152c6d86cef92b2fed7be9bb8">host_mem_manager_read_debug</a> (void)</td></tr>
<tr class="separator:aa243a28152c6d86cef92b2fed7be9bb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5be7533e9011f91fa0923c7fb08523a6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5be7533e9011f91fa0923c7fb08523a6"></a>
int8_t&#160;</td><td class="memItemRight" valign="bottom"><b>destructor</b></td></tr>
<tr class="separator:a5be7533e9011f91fa0923c7fb08523a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Module defining all functions offered by barelog for the host program. </p>
<p>This header defines the functions structures and functions used to initialize and finalize the host part of the logger and to read the events inside the shared memory once the logging session is over.</p>
<dl class="section author"><dt>Author</dt><dd>Thomas Bertauld </dd></dl>
<dl class="section date"><dt>Date</dt><dd>17/10/2015 </dd></dl>

<p>Definition in file <a class="el" href="barelog__host__mem__manager_8h_source.html">barelog_host_mem_manager.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af87f5184889e71d35a18a36852797e7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t host_mem_manager_finalize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finalizes the host's memory manager. Deallocate all previously allocated (shared) memory segments. </p><dl class="section return"><dt>Returns</dt><dd>BARELOG_NB_CORES on success. Otherwise if ret &gt; 0, it is the number of memory segments correctly deallocated and if ret &lt; 0 it indicates an error code. </dd></dl>

</div>
</div>
<a class="anchor" id="a3073d2ab80167ff69b27b70f87ef4225"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t host_mem_manager_init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbarelog__platform__t.html">barelog_platform_t</a>&#160;</td>
          <td class="paramname"><em>platform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *(*)(void *address, size_t size, void *data)&#160;</td>
          <td class="paramname"><em>init</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t(*)(const void *address, size_t size, void *buffer)&#160;</td>
          <td class="paramname"><em>read</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t(*)(void *address, size_t size, const void *buffer)&#160;</td>
          <td class="paramname"><em>write</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t(*)(void *mem_space)&#160;</td>
          <td class="paramname"><em>finalize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the host's memory manager. Should be called before any subsequent call to any other function in this module. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">platform</td><td>the platform to allocate the (shared) memory spaces against. </td></tr>
    <tr><td class="paramname">init</td><td>the function used by the host to initialize a memory section. </td></tr>
    <tr><td class="paramname">read</td><td>the function used by the host to read data from a memory section. </td></tr>
    <tr><td class="paramname">write</td><td>the function used by the host to write data into a memory section. </td></tr>
    <tr><td class="paramname">finalize</td><td>the function used by the host to deallocate a (shared) memory space. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>BARELOG_NB_CORES on success. Otherwise if ret &gt; 0, it is the number of memory segments correctly allocated and if ret &lt; 0 it is an error code. </dd></dl>

<p>Definition at line <a class="el" href="barelog__host__mem__manager_8c_source.html#l00087">87</a> of file <a class="el" href="barelog__host__mem__manager_8c_source.html">barelog_host_mem_manager.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa243a28152c6d86cef92b2fed7be9bb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t host_mem_manager_read_debug </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function used to read and display on stderr the shared memory error section (if applicable). </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="barelog__device__mem__manager_8h.html#ae41a0e6ea107251288d2e0ca4de4c81e">barelog_debug_log</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>BARELOG_SUCCESS if everything went well, an error code otherwise. </dd></dl>

<p>Definition at line <a class="el" href="barelog__host__mem__manager_8c_source.html#l00235">235</a> of file <a class="el" href="barelog__host__mem__manager_8c_source.html">barelog_host_mem_manager.c</a>.</p>

</div>
</div>
<a class="anchor" id="a25cb114fbd0a3f6c241f1e22402384cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t host_mem_manager_read_mem_space </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>core</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">barelog_event_t **&#160;</td>
          <td class="paramname"><em>events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads the memory section dedicated to a core and returns the corresponding events buffer. WARNING : it is the responsibility of the caller to free this buffer afterwards. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core</td><td>the core on which to read the events. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of events read from shared memory. </dd></dl>

<p>Definition at line <a class="el" href="barelog__host__mem__manager_8c_source.html#l00194">194</a> of file <a class="el" href="barelog__host__mem__manager_8c_source.html">barelog_host_mem_manager.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_4f7e4242e27b8c8b476722507617a881.html">host</a></li><li class="navelem"><a class="el" href="dir_e839221b911be9ca1d4935be85bedea2.html">include</a></li><li class="navelem"><a class="el" href="barelog__host__mem__manager_8h.html">barelog_host_mem_manager.h</a></li>
    <li class="footer">Generated on Sat Oct 17 2015 16:57:15 for barelog by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
